{"ast":null,"code":"import _classCallCheck from \"/Users/dj/work/JSON-forms-parser-REACT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/dj/work/JSON-forms-parser-REACT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/dj/work/JSON-forms-parser-REACT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/dj/work/JSON-forms-parser-REACT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/dj/work/JSON-forms-parser-REACT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/dj/work/JSON-forms-parser-REACT/src/Rating.tsx\";\nimport * as React from 'react'; // TODO: typings\n\nexport var Rating =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Rating, _React$Component);\n\n  function Rating(props) {\n    var _this;\n\n    _classCallCheck(this, Rating);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Rating).call(this, props));\n    _this.state = {\n      rating: props.value,\n      hoverAt: null\n    };\n    return _this;\n  }\n\n  _createClass(Rating, [{\n    key: \"handleMouseOver\",\n    value: function handleMouseOver(idx) {\n      this.setState({\n        hoverAt: idx + 1\n      });\n    }\n  }, {\n    key: \"handleMouseOut\",\n    value: function handleMouseOut() {\n      this.setState({\n        hoverAt: null\n      });\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(idx) {\n      this.setState({\n        rating: idx + 1\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _onClick = this.props.onClick;\n      return React.createElement(\"div\", {\n        id: \"#/properties/rating\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"Rating:\"), [0, 1, 2, 3, 4].map(function (i) {\n        var rating = _this2.state.hoverAt != null ? _this2.state.hoverAt : _this2.state.rating;\n        return React.createElement(\"span\", {\n          onMouseOver: function onMouseOver() {\n            return _this2.handleMouseOver(i);\n          },\n          onMouseOut: function onMouseOut() {\n            return _this2.handleMouseOut();\n          },\n          onClick: function onClick() {\n            _this2.handleClick(i);\n\n            _onClick({\n              value: i + 1\n            });\n          },\n          key: \"\".concat(_this2.props.id, \"_\").concat(i),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, i < rating ? \"\\u2605\" : \"\\u2606\");\n      }));\n    }\n  }]);\n\n  return Rating;\n}(React.Component);\n\nRating.getDerivedStateFromProps = function (nextProps, prevState) {\n  if (prevState.rating !== nextProps.value) {\n    return {\n      rating: nextProps.value,\n      hoverAt: prevState.hoverAt\n    };\n  }\n\n  return null;\n};","map":{"version":3,"sources":["/Users/dj/work/JSON-forms-parser-REACT/src/Rating.tsx"],"names":["React","Rating","props","state","rating","value","hoverAt","idx","setState","onClick","map","i","handleMouseOver","handleMouseOut","handleClick","id","Component","getDerivedStateFromProps","nextProps","prevState"],"mappings":";;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB,C,CAEA;;AACA,WAAaC,MAAb;AAAA;AAAA;AAAA;;AACE,kBAAYC,KAAZ,EAAwB;AAAA;;AAAA;;AACtB,gFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAEF,KAAK,CAACG,KADH;AAEXC,MAAAA,OAAO,EAAE;AAFE,KAAb;AAFsB;AAMvB;;AAPH;AAAA;AAAA,oCAmBkBC,GAnBlB,EAmB+B;AAC3B,WAAKC,QAAL,CAAc;AACZF,QAAAA,OAAO,EAAEC,GAAG,GAAG;AADH,OAAd;AAGD;AAvBH;AAAA;AAAA,qCAyBmB;AACf,WAAKC,QAAL,CAAc;AACZF,QAAAA,OAAO,EAAE;AADG,OAAd;AAGD;AA7BH;AAAA;AAAA,gCA+BcC,GA/Bd,EA+B2B;AACvB,WAAKC,QAAL,CAAc;AACZJ,QAAAA,MAAM,EAAEG,GAAG,GAAG;AADF,OAAd;AAGD;AAnCH;AAAA;AAAA,6BAqCW;AAAA;;AAAA,UACCE,QADD,GACa,KAAKP,KADlB,CACCO,OADD;AAGP,aACE;AAAK,QAAA,EAAE,EAAC,qBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgBC,GAAhB,CAAoB,UAAAC,CAAC,EAAI;AACxB,YAAMP,MAAM,GACV,MAAI,CAACD,KAAL,CAAWG,OAAX,IAAsB,IAAtB,GAA6B,MAAI,CAACH,KAAL,CAAWG,OAAxC,GAAkD,MAAI,CAACH,KAAL,CAAWC,MAD/D;AAGA,eACE;AACE,UAAA,WAAW,EAAE;AAAA,mBAAM,MAAI,CAACQ,eAAL,CAAqBD,CAArB,CAAN;AAAA,WADf;AAEE,UAAA,UAAU,EAAE;AAAA,mBAAM,MAAI,CAACE,cAAL,EAAN;AAAA,WAFd;AAGE,UAAA,OAAO,EAAE,mBAAM;AACb,YAAA,MAAI,CAACC,WAAL,CAAiBH,CAAjB;;AACAF,YAAAA,QAAO,CAAC;AAAEJ,cAAAA,KAAK,EAAEM,CAAC,GAAG;AAAb,aAAD,CAAP;AACD,WANH;AAOE,UAAA,GAAG,YAAK,MAAI,CAACT,KAAL,CAAWa,EAAhB,cAAsBJ,CAAtB,CAPL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WASGA,CAAC,GAAGP,MAAJ,GAAa,QAAb,GAAwB,QAT3B,CADF;AAaD,OAjBA,CAFH,CADF;AAuBD;AA/DH;;AAAA;AAAA,EAA4BJ,KAAK,CAACgB,SAAlC;;AAAaf,M,CASJgB,wB,GAA2B,UAACC,SAAD,EAAiBC,SAAjB,EAAoC;AACpE,MAAIA,SAAS,CAACf,MAAV,KAAqBc,SAAS,CAACb,KAAnC,EAA0C;AACxC,WAAO;AACLD,MAAAA,MAAM,EAAEc,SAAS,CAACb,KADb;AAELC,MAAAA,OAAO,EAAEa,SAAS,CAACb;AAFd,KAAP;AAID;;AACD,SAAO,IAAP;AACD,C","sourcesContent":["import * as React from 'react';\n\n// TODO: typings\nexport class Rating extends React.Component<any, any> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      rating: props.value,\n      hoverAt: null\n    };\n  }\n\n  static getDerivedStateFromProps = (nextProps: any, prevState: any) => {\n    if (prevState.rating !== nextProps.value) {\n      return {\n        rating: nextProps.value,\n        hoverAt: prevState.hoverAt\n      };\n    }\n    return null;\n  };\n\n  handleMouseOver(idx: number) {\n    this.setState({\n      hoverAt: idx + 1\n    });\n  }\n\n  handleMouseOut() {\n    this.setState({\n      hoverAt: null\n    });\n  }\n\n  handleClick(idx: number) {\n    this.setState({\n      rating: idx + 1\n    });\n  }\n\n  render() {\n    const { onClick } = this.props;\n\n    return (\n      <div id='#/properties/rating'>\n        <p>Rating:</p>\n        {[0, 1, 2, 3, 4].map(i => {\n          const rating =\n            this.state.hoverAt != null ? this.state.hoverAt : this.state.rating;\n\n          return (\n            <span\n              onMouseOver={() => this.handleMouseOver(i)}\n              onMouseOut={() => this.handleMouseOut()}\n              onClick={() => {\n                this.handleClick(i);\n                onClick({ value: i + 1 });\n              }}\n              key={`${this.props.id}_${i}`}\n            >\n              {i < rating ? '\\u2605' : '\\u2606'}\n            </span>\n          );\n        })}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}